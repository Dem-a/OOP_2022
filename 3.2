import pygame
import math
from pygame.draw import *


def fun_iglu(x, y, i):
    circle(screen, (0, 0, 0), (x + 10 * i, y + 10 * i), 10.35 * i, 1, draw_top_left=True, draw_top_right=True)
    line(screen, (0, 0, 0), (x, y + 10 * i), (x + 20 * i, y + 10 * i), 1)
    circle(screen, (165, 165, 165), (x + 10 * i, y + 10 * i), 10.19 * i, draw_top_left=True, draw_top_right=True)
    arc(screen, (0, 0, 0), (x + 4 * i, y + 1 * i, 12 * i, 2 * i), math.pi, 0)
    arc(screen, (0, 0, 0), (x + 2 * i, y + 2 * i, 16 * i, 4 * i), math.pi, 0)
    arc(screen, (0, 0, 0), (x + 0.5 * i, y + 4 * i, 19 * i, 5 * i), math.pi, 0)
    line(screen, (0, 0, 0), (x, y + 10 * i), (x + 20 * i, y + 10 * i), 1)
    line(screen, (0, 0, 0), (x + 1 * i, y + 7.5 * i), (x + 1 * i, y + 10 * i), 1)
    line(screen, (0, 0, 0), (x + 5 * i, y + 5.5 * i), (x + 5 * i, y + 8.5 * i), 1)
    line(screen, (0, 0, 0), (x + 8 * i, y + 3 * i), (x + 8 * i, y + 6 * i), 1)
    line(screen, (0, 0, 0), (x + 9 * i, y + 9 * i), (x + 9 * i, y + 10 * i), 1)
    line(screen, (0, 0, 0), (x + 10 * i, y), (x + 10 * i, y + 3 * i), 1)
    line(screen, (0, 0, 0), (x + 15 * i, y + 2.5 * i), (x + 15 * i, y + 5.5 * i), 1)
    line(screen, (0, 0, 0), (x + 17 * i, y + 5 * i), (x + 17 * i, y + 8 * i), 1)
    line(screen, (0, 0, 0), (x + 18 * i, y + 8 * i), (x + 18 * i, y + 10 * i), 1)


def fun_iskimos(x, y, i):
    ellipse(screen, (227, 222, 219), (x, y, 8 * i, 4 * i))
    ellipse(screen, (145, 124, 111), (x - 1 * i, y + 2 * i, 10 * i, 15 * i))
    rect(screen, (255, 255, 255), (x - 1 * i, y + 9.5 * i, 10 * i, 8.5 * i))
    ellipse(screen, (145, 124, 111), (x - 2 * i, y + 3 * i, 3 * i, 2 * i))
    ellipse(screen, (145, 124, 111), (x + 7 * i, y + 3 * i, 3 * i, 2 * i))
    ellipse(screen, (145, 124, 111), (x + 1 * i, y + 9 * i, 2 * i, 3 * i))
    ellipse(screen, (145, 124, 111), (x + 5 * i, y + 9 * i, 2 * i, 3 * i))
    rect(screen, (108, 93, 83), (x + 3 * i, y + 2.5 * i, 2 * i, 7 * i))
    rect(screen, (108, 93, 83), (x - 1 * i, y + 8.5 * i, 10 * i, 2 * i))
    ellipse(screen, (172, 157, 147), (x + 1 * i, y + 0.5 * i, 6 * i, 3 * i))
    ellipse(screen, (227, 219, 219), (x + 1.5 * i, y + 1 * i, 5 * i, 2 * i))
    arc(screen, (0, 0, 0), (x + 3.5 * i, y + 2.5 * i, 1 * i, 0.5 * i), 0, math.pi)
    line(screen, (0, 0, 0), (x + 2.5 * i, y + 1.5 * i), (x + 3.5 * i, y + 2 * i), 1)
    line(screen, (0, 0, 0), (x + 5.5 * i, y + 1.5 * i), (x + 4.5 * i, y + 2 * i), 1)
    line(screen, (0, 0, 0), (x - 0.5 * i, y), (x - 0.5 * i, y + 12 * i), 1)


def fun_cat_with_fish(x, y, i):
    ellipse(screen, (204, 204, 204), (x, y, 8 * i, 3 * i))
    draw_ellipse_angle(screen, (204, 204, 204), (x, y + 3 * i, 4 * i, 1 * i), 80, 0)
    draw_ellipse_angle(screen, (204, 204, 204), (x - 1 * i, y + 3 * i, 4 * i, 1 * i), 60, 0)
    draw_ellipse_angle(screen, (204, 204, 204), (x + 5 * i, y + 3 * i, 4 * i, 1 * i), 110, 0)
    draw_ellipse_angle(screen, (204, 204, 204), (x + 6 * i, y + 3 * i, 4 * i, 1 * i), 120, 0)
    draw_ellipse_angle(screen, (204, 204, 204), (x + 7 * i, y, 4 * i, 0.5 * i), 210, 0)

    draw_ellipse_angle(screen, (204, 4, 204), (x - 0.8 * i, y + 1.2 * i, 2 * i, 1 * i), 170, 0)
    draw_ellipse_angle(screen, (4, 4, 204), (x + 1 * i, y + 1.6 * i, 1 * i, 0.3 * i), 210, 0)
    draw_ellipse_angle(screen, (4, 4, 204), (x + 1 * i, y + 2.1 * i, 1 * i, 0.3 * i), 130, 0)
    draw_ellipse_angle(screen, (0, 0, 0), (x - 0.3 * i, y + 1.4 * i, 0.3 * i, 0.3 * i), 0, 0)

    draw_ellipse_angle(screen, (204, 204, 204), (x - 1 * i, y - 1 * i, 3 * i, 2.5 * i), 10, 0)
    polygon(screen, (204, 204, 204),
            ((x - 0.5 * i, y - 0.8 * i), (x, y - 1.6 * i), (x + 0.5 * i, y - 0.8 * i), (x - 0.5 * i, y - 0.8 * i)))
    polygon(screen, (204, 204, 204),
            ((x + 1 * i, y - 0.6 * i), (x + 1.5 * i, y - 1.4 * i), (x + 2 * i, y - 0.4 * i), (x + 1 * i, y - 0.6 * i)))
    circle(screen, (255, 255, 255), (x - 0.1 * i, y - 0.1 * i), 0.5 * i)
    circle(screen, (0, 0, 0), (x - 0.1 * i, y - 0.1 * i), 0.2 * i)
    circle(screen, (255, 255, 255), (x + 1.3 * i, y + 0.1 * i), 0.5 * i)
    circle(screen, (0, 0, 0), (x + 1.3 * i, y + 0.1 * i), 0.2 * i)
    polygon(screen, (0, 0, 0), (
    (x + 0.3 * i, y + 0.7 * i), (x + 0.5 * i, y + 1 * i), (x + 0.7 * i, y + 0.8 * i), (x + 0.3 * i, y + 0.7 * i)))


def draw_ellipse_angle(surface, color, rect, angle, width=0):
    target_rect = pygame.Rect(rect)
    shape_surf = pygame.Surface(target_rect.size, pygame.SRCALPHA)
    pygame.draw.ellipse(shape_surf, color, (0, 0, *target_rect.size), width)
    rotated_surf = pygame.transform.rotate(shape_surf, angle)
    surface.blit(rotated_surf, rotated_surf.get_rect(center=target_rect.center))



pygame.init()

FPS = 30
screen = pygame.display.set_mode((500, 500))

#поле
screen.fill('grey')
rect(screen, (255, 255, 255), (0, 240, 500, 260))

fun_iglu(30, 220, 8)
fun_iglu(110, 240, 9)
fun_iglu(20, 260, 10)
fun_iglu(40, 300, 11)
fun_iskimos(300, 220, 8)
fun_iskimos(360, 240, 9)
fun_iskimos(300, 260, 10)
fun_cat_with_fish(280, 360, 8)
fun_cat_with_fish(320, 420, 9)
fun_cat_with_fish(200, 430, 10)
fun_cat_with_fish(30, 430, 11)

pygame.display.update()
clock = pygame.time.Clock()
finished = False

while not finished:
    clock.tick(FPS)
    for event in pygame.event.get():
        if event.type == pygame.QUIT:
            finished = True

pygame.quit()
